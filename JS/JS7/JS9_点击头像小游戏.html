<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
body,
h2,
p {
	margin: 0;
}
body {
	background-color: #ccc;
}
#wrap {
	position: relative;
	margin: 50px auto;
	width: 800px;
	height: 500px;
	background-color: #fff;
	text-align: center;
}
#wrap h2 {
	padding-top: 30px;
	line-height: 30px;
}
#wrap p {
	line-height: 36px;
}
#countIcon {
	position: absolute;
	top: 130px;
	left: 160px;
	width: 600px;
	height: 330px;
	border: 1px solid #666666;
	background-color: #ccc;
}
#countIcon .count {
	position: absolute;
	top: 0;
	left: -102px;
	padding: 14px 0;
	width: 100px;
	height: 72px;
	background-color: #F6F7DF;
}
#countIcon .icons {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	border: 1px solid #666666;
	overflow: hidden;
}
.icons img {
	position: absolute;
	top: 0;
	left: 0;
	width: 24px;
	height: 24px;
	display: none;
}
</style>
</head>
<body>
	<section id="wrap">
		<h2>你的鼠标有多快？</h2>
		<p>游戏说明：点击"开始游戏",随机掉下qq表情,点中它,千万别让它掉下去</p>
		<input type="button" value="开始游戏" />
		<div id="countIcon">
			<div class="count">
				<p>得分：<span>0</span>分</p>
				<p>失分：<span>0</span>分</p>
			</div>
			<div class="icons"><img src="img9/1.png"></div>
		</div>
	</section>
<script type="text/javascript" src="JS/publicMain.js" ></script>
<script>
var arrIcon = [
	'img9/1.png','img9/2.png','img9/3.png','img9/4.png','img9/5.png','img9/6.png',
	'img9/7.png','img9/8.png','img9/9.png','img9/10.png','img9/11.png'
];
var oBtn = getEle('#wrap input');//开始游戏按钮
var oCount = getEle('#wrap .count span');//计算得分的元素
var oIcons = getEle('#wrap .icons');//头像运动的父级
var oImg = oIcons.getElementsByTagName('img')[0];//
var timer = 0;
var time = 4000;
var iconWid = css(oIcons,'width')-24;
var iconHei = css(oIcons,'height');
//点击开始游戏按钮
oBtn.onclick = function (){
	oBtn.value = '游戏进行中……';
	oBtn.disabled = true;
	oImg.style.display = 'block';
	downIcon();
	
}


function downIcon() {
	var num = parseInt(Math.random()*(arrIcon.length));
	var left = parseInt(Math.random()*(iconWid));
	time -= 100;
	oImg.src = arrIcon[num];
	css(oImg,'left',left);
	css(oImg,'top',0);
	mTween(oImg,{'top':iconHei},time,'linear',function(){
		shake(oIcons,'top',30);
		oCount[1].innerHTML = parseInt(oCount[1].innerHTML) + 1;
		var loseNum = parseInt(oCount[1].innerHTML);
		if ( loseNum >= 10 ) {
			clearInterval(oImg.timer);
			clearInterval(oImg.shake);
			oBtn.value = '开始游戏';
			oBtn.disabled = false;
			alert('噢噢￣へ￣，很遗憾，游戏结束了……');
			return;
		} else {
			downIcon();
		}
	});
	oImg.onclick = function () {
		this.src = 'img9/qq.png';
		clearInterval(oImg.timer);
		shake(oImg,'left',30,function(){
			oCount[0].innerHTML = parseInt(oCount[0].innerHTML) + 1;
			downIcon();
			return;
		});
	}
}



</script>
</body>
</html>
