<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
ul {
	margin: 0;
	padding: 0;
	list-style: none;
}
img {
	vertical-align: top;
}
#wrap {
	margin: 50px auto;
	width: 600px;
	height: 398px;
	border: 5px solid #B0E0E6;
	background-color: #CCCCCC;
}
#wrap ul {
	width: 298px;
	height: 398px;
}
#wrap li {
	position: relative;
	width: 298px;
	height: 98px;
	border-bottom: 2px solid #fff;
	overflow: hidden;
}
#wrap div {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 98px;
}
#wrap img{
	width: 298px;
	height: 98px;
}
#wrap ul>li:nth-last-of-type(1) {
	height: 98px;
	border: none;
}
.right {
	float: right;
}
.left {
	float: left;
}
</style>
</head>
<body>
	<section id="wrap">
		<ul class="left">
			<li>
				<!--<div>
					<span><img src="img7/1.jpg"></span>
					<span><img src="img7/1.jpg"></span>
				</div>-->
			</li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
		<ul class="right">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
	</section>
<script src="JS/publicMain.js"></script>
<script>
var imgData = [
	['img7/2.jpg','img7/3.jpg'],
	['img7/4.jpg','img7/6.jpg'],
	['img7/5.jpg','img7/7.jpg'],
	['img7/9.jpg','img7/10.jpg'],
	['img7/12.jpg','img7/13.jpg'],
	['img7/11.jpg','img7/14.jpg'],
	['img7/8.jpg','img7/15.jpg'],
	['img7/1.jpg','img7/16.jpg']
];
var aWrap = getEle('#wrap ul');

//获取所有li
var aLis = [];
aWrap.forEach(function(item){
	var aLi = Array.from(item.getElementsByTagName('li'));
	aLis = aLis.concat(aLi);
})

//生成页面中的数据(图片)
imgData.forEach(function(item,i){
	var arrTamp = ['<div>'];
	item.forEach(function(item){
		var str = '<span><img src="'+item+'"></span>';
		arrTamp.push(str);
	});
	arrTamp.push('</div>');
	aLis[i].innerHTML = arrTamp.join('');
});

//获取每个需要运动的div
var aImgList = [];
aWrap.forEach(function(item){
	var aImg = Array.from(item.getElementsByTagName('div'));
	aImgList = aImgList.concat(aImg);
});


var arrT = [];
//循环为图片添加随机运动函数
/*aImgList.forEach(function(item,i){
	arrT[i] = item;
});*/

setInterval(
	function(){
		/*arrT.sort(function(){
			return 0.5 - Math.random();
		});*/
		var n = parseInt(Math.random()*3) + 1;
		for ( var i = 0; i < n; i++ ) {
			var n = parseInt(Math.random()*(imgData.length));
			singleMove(aImgList[n]);
		}
	},500
);

function singleMove(obj) {
	var aSpan = obj.getElementsByTagName('span');
	var hei = css(obj,'height');
	var top = css(obj,'top');
	if ( top == 0 ) {
		mTween(obj,{'top':-hei},200,'linear');
	} else {
		mTween(obj,{'top':0},200,'linear');
	}
}
var num = 0;
//图片随机运动函数
/*function singleMove(obj) {
	
	if ( obj.onOff ) {
		var aSpan = obj.getElementsByTagName('span');
		var hei = css(obj,'height');
		var randomN = parseInt(Math.random()*3);
		if ( Math.abs(randomN-num) >= 2 ) {
			randomN == 0? randomN += 1: randomN -= 1;
		}
		var top = -(randomN*hei);
		mTween(obj,{'top':top},200,'linear');
		num = randomN;
	}
	obj.onOff = !obj.onOff;
}*/
</script>
</body>
</html>
