<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
.box {
	position: relative;
	margin: 0 auto;
	width: 800px;
	height: 500px;
	background-color: #ccc;
	perspective: 1000px;
}
img {
	position: absolute;
	top: 0;
	left: 0;
	width: 300px;
	height: 230px;
	transform-origin: center center -100px;
}
</style>
</head>
<body>
	<div class="box"><img src="img15/5.jpg" /></div>
<script src="JS/publicMain.js"></script>
<script>
(function(d){
	var oImg = d.getElementsByTagName('img')[0];
	
	oImg.style.left = (oImg.parentNode.clientWidth-oImg.clientWidth)/2 + 'px';
	oImg.style.top = (oImg.parentNode.clientHeight-oImg.clientHeight)/2 + 'px';
	oImg.parentNode.onmousemove = function (ev){
		var ev = ev || event;
		var imgRect = oImg.getBoundingClientRect();
		var disTop = imgRect.top - ev.clientY,
			disLeft = imgRect.left - ev.clientX,
			disRight = 0,
			disBottom = 0;
		if ( disTop > 0 ) {
			oImg.style.transform = 'rotateX('+disTop*.2+'deg)';
		} else if (Math.abs(disTop)-imgRect.height>0) {
			disBottom = disTop + imgRect.height;
			oImg.style.transform = 'rotateX('+disBottom*.2+'deg)';
		}
		if ( disLeft > 0 ) {
			oImg.style.transform = 'rotateY('+(-disLeft*.2)+'deg)';
		} else if (Math.abs(disLeft)-imgRect.width>0) {
			disRight = disLeft + imgRect.width;
			oImg.style.transform = 'rotateY('+(-disRight*.2)+'deg)';
		}
		ev.cancelBubble = true;
	}
	window.onmousemove = function (){
		oImg.style.transform = 'rotateX(0deg) rotateY(0deg)';
	}
})(document)
</script>
</body>
</html>
