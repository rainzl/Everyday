<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
body {
	position: relative;
	margin: 0;
}
#nav {
	position: absolute;
	top: 50px;
	width: 600px;
	height: 60px;
	background-color: #1284B8;
}
#right,
#left {
	position: absolute;
	top: 200px;
	width: 60px;
	height: 600px;
}
#left {
	background-color: #628F0A;
}
#right div {
	width: 100%;
	height: 100%;
	background-color: #628F0A;
} 
#right a {
	position: absolute;
	bottom: 0;
	left: 0;
	width: 60px;
	height: 60px;
	background-color: #B0E0E6;
	display: none;
}
</style>
</head>
<body>
	<nav id="nav"></nav>
	<div id="left"></div>
	<div id="right"><div></div><a>12</a></div>
<script src="JS/publicMain.js"></script>
<script>
var str = '';
for ( var i=0; i<100; i++ ) {
	str += '<p>'+i+'</p>';
}
document.body.innerHTML += str;

var oNav = document.getElementById('nav');
var oLeft = document.getElementById('left');
var oRight = document.getElementById('right');
var oRigA = oRight.getElementsByTagName('a')[0];

var oTop = ((document.documentElement.clientHeight || document.body.clientHeight)-oLeft.offsetHeight)/2;
var oRightWid = (document.documentElement.clientWidth || document.body.clientWidth) - 20 - oRight.offsetWidth;
var oNavL = ((document.documentElement.clientWidth || document.body.clientWidth) - oNav.offsetWidth)/2;
css(oLeft,'top',oTop);
css(oRight,'top',oTop);
css(oRight,'left',oRightWid);
css(oNav,'left',oNavL);

oRigA.onclick = function () {
	var windowScorllTimer  = 0;
	clearInterval(windowScorllTimer);
	var target = 0;
	var now = window.pageYOffset;
	windowScorllTimer = setInterval(function(){
		
		
		var deep = (target - now)/14;
		if ( Math.abs(target - now) < 2 ) {
			now = 0;
			clearInterval(windowScorllTimer);
		} else {
			now += deep;
		}
		window.scrollTo(0,now);
	},20);
}

window.onscroll = function () {
	
	if ( pageYOffset >= oTop ) {
		
		oRight.style.position = oLeft.style.position = 'fixed';
		
		oRight.style.top = oLeft.style.top = 0;
		
		oRigA.style.display = 'block';
	} else {
		oRight.style.position = oLeft.style.position = 'absolute';
		oRight.style.top = oLeft.style.top = oTop + 'px';
		oRigA.style.display = 'none';
	}
}
window.onresize = function () {
	var oTop = ((document.documentElement.clientHeight || document.body.clientHeight)-oLeft.offsetHeight)/2;
	var oRightWid = (document.documentElement.clientWidth || document.body.clientWidth) - 20 - oRight.offsetWidth;
	var oNavL = ((document.documentElement.clientWidth || document.body.clientWidth) - oNav.offsetWidth)/2;
	css(oLeft,'top',oTop);
	css(oRight,'top',oTop);
	css(oRight,'left',oRightWid);
	css(oNav,'left',oNavL);
}



</script>
</body>
</html>
