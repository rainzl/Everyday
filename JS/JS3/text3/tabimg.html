<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style>
	body,ul,h2{ top: 0; margin: 0;}
	img{ border: none;}
	li{ list-style: none;}
	body{ background: #333333;}
	#box{ margin:50px auto; width: 500px; height: 500px; background: url(bg2.jpg) no-repeat; padding: 30px 50px; position: relative;}
	#box h2{ background: #333333; filter: alpha (opacity: 80); opacity: 0.8; color: #FFFFFF;line-height: 45px;text-align: center;}
	#box img{ background: url(loader_ico.gif) no-repeat center center #FFFFFF; width: 500px; height: 384px;}
	#box ul{  position: absolute; top: 410px; left: 180px;}
	#box li{ width: 10px; height: 10px; background: url(bg1.png) no-repeat 0 0; float: left; margin: 10px; position: relative;}
	#box span{ width: 50px; height: 50px;line-height: 50px; background:url(bg3.png) no-repeat; filter: alpha ( opacity:50px); opacity: 0.5; position: absolute; color: #FFFFFF;text-align: center;font-family: "幼圆"; font-weight: bold;font-size: 30px;}
	#prev{ top: 200px; left: 80px;}
	#next{ top: 200px; right: 80px;}
	#box .active{ background: url(bg1.png) no-repeat right -10px;}
	#box .btn_active{ filter: alpha ( opacity:90); opacity: 0.9; cursor: pointer;}
	#box ul li img{ display: none;}
	#box ul li .img_active{ width: 100px; height: 80px; padding: 5px; border: solid 1px #d0c6c6;  position: absolute; top:-98px; left: -56px; display: block;}
	#box ul li div{ display: none;}
	#box ul li .div_active{ width: 13px; height: 7px; background: url(bg4.png);position:absolute;top: -8px; right: 0px; display: block;}
	</style>
	<script>
	window.onload = function (){
		var oBox = document.getElementById('box');
		var oImg = oBox.getElementsByTagName('img')[0];
		var oUl = oBox.getElementsByTagName('ul')[0];
		var oPrev = document.getElementById('prev');
		var oNext = document.getElementById('next');
		var aRrimg = [ '1.jpg','2.jpg','3.jpg','4.jpg','5.jpg' ];
		var oLi = oUl.getElementsByTagName('li');
		var num = 0;
		var onOff = true;
		
		
		//初始化
		for ( i=0; i<aRrimg.length; i++ ){
			oUl.innerHTML += '<li></li>';
			oLi[i].innerHTML = '<img/>' + '<div></div>';
		}
		oImg.src = aRrimg[num];
		oLi[num].className = 'active';
		
		//上一张切换
		oPrev.onclick = function (){
			num --;
			if ( num == -1 ){
				num = aRrimg.length - 1;
			}
			oImg.src = aRrimg[num];
			oPrev.className = 'btn_active';
			btm_li ();
		}
		oPrev.onmouseover = function (){
			oPrev.className = 'btn_active';
		}
		oPrev.onmouseout = function (){
			oPrev.className = '';
		}
		//下一张切换
		oNext.onclick = function (){
			num ++;
			if ( num == aRrimg.length ){
				num = 0;
			}
			oImg.src = aRrimg[num];
			oNext.className = 'btn_active'
			btm_li ();
		}
		oNext.onmouseover = function (){
			oNext.className = 'btn_active';
		}
		oNext.onmouseout = function (){
			oNext.className = '';
		}
		
		// 下标轮播函数
		function btm_li (){
			for ( i=0; i<aRrimg.length; i++ ){
				oLi[i].className = '';
			}
			oLi[num].className = 'active';
		}
		
		//原点缩略图显示
		for ( i=0; i<oLi.length; i++ ){
			oLi[i].index = i;
			oLi[i].onmouseover = function (){
				if ( onOff ) {
					this.getElementsByTagName('img')[0].src = aRrimg[ this.index ];
					this.getElementsByTagName('img')[0].className = 'img_active';
					this.getElementsByTagName('div')[0].classname = 'div_active';
					onOff = false;
				} else {
					for ( i=0; i<aRrimg.length; i++ ){
						oLi[i].getElementsByTagName('img')[0].className = '';
						oLi[i].getElementsByTagName('div')[0].classname = '';
					}
					this.getElementsByTagName('img')[0].src = aRrimg[ this.index ];
					this.getElementsByTagName('img')[0].className = 'img_active';
					this.getElementsByTagName('div'[0]).classname = 'div_active';
				}
				
			}
			oLi[i].onmouseout = function (){
				this.getElementsByTagName('img')[0].className = '';
				this.getElementsByTagName('div')[0].classname = '';
			}
		}
		
		
	}
	</script>
	<body>
		<div id="box">
			<h2>萌宠图片</h2>
			<img src="" />
			<ul></ul>
			<span id="prev"><</span>
			<span id="next">></span>
		</div>
	</body>
</html>
