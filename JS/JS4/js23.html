<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
h2 {
	margin: 0;
}
ul {
	margin: 0;
	padding: 0;
	list-style: none;
	font: 16px/30px "宋体";
}
.wrap {
	width: 200px;
	text-align: center;
}
.list {
	border: 1px solid #A7A7A7;
}
.list h2 {
	background-color: #444444;
	color: #fff;
	cursor: pointer;
}
.list ul {
	display: none;
}
.list .active {
	background-color: darkslateblue;
}
.list .hover {
	background-color: lightseagreen;
}
.list li {
	border: 2px solid #fff;
	background-color: #B8B8BA;
	cursor: pointer;
}
.list .over {
	background-color: #3399FE;
}
.list .click {
	background-color: #B0E0E6;
}
.list .hidd {
	display: none;
}
.list .show {
	display: block;
}
</style>
<script>
	window.onload = function () {
		var aH2 = document.querySelectorAll('.list h2');
		var aUl = document.querySelectorAll('.list ul');
		var aLi = document.querySelectorAll('.list li');
		var num = 0;
		var numLi = 0;
		var aRLi = [];
		
		for ( i=0; i<aH2.length; i++ ) {
			aH2[i].index = i;
			aH2[i].onOff = true;
			aH2[i].onmouseover = function () {
				that = this;
				fnMouseOver( 'hover','active' );
			}
			aH2[i].onmouseout = function () {
				fnMouseOut(aH2,'active');
			}
			aH2[i].onclick = function () {
				if ( this.onOff ) {
					for ( i=0; i<aH2.length; i++ ) {
						aH2[i].onOff = true;
						aUl[i].className = '';
					}
					for ( i=0; i<aLi.length; i++ ) {
						aLi[i].onOff = true;
						aLi[i].className = '';
					}
					this.onOff = false;
					this.className = 'active';
					aUl[this.index].className = 'show';
				} else {
					this.onOff = true;
					aUl[this.index].className = 'hidd';
					this.getElementsByTagName('li');
					for ( i=0; i<aLi.length; i++ ) {
						aLi[i].onOff = true;
						aLi[i].className = '';
					}
				}
			}
		}
		for ( i=0; i<aLi.length; i++ ) {
			aLi[i].onOff = true;
			aLi[i].onclick = function () {
				if ( this.onOff ) {
					for ( i=0; i<aLi.length; i++ ) {
						aLi[i].onOff = true;
						aLi[i].className = '';
					}
					this.onOff = false;
					this.className = 'click';
				} else {
					this.onOff = true;
					this.className = 'over';
				}
			}
			aLi[i].onmouseover = function () {
				that = this;
				fnMouseOver( 'over','click' );
			}
			aLi[i].onmouseout = function () {
			 	fnMouseOut(aLi,'click');
			}
			
			function fnMouseOver( activeClass,hoverClass ) {
				if ( that.onOff ) {
					that.className = activeClass;
				} else {
					that.className = hoverClass;
				}
			}
			function fnMouseOut(ele,classN) {
				for ( i=0; i<ele.length; i++ ) {
					if ( ele[i].onOff ) {
						ele[i].className = '';
					} else {
						ele[i].className = classN;
					}
				}
			}
		}
	}
</script>
<!--1. 鼠标移入、移出元素(h2/li)，元素背景颜色改变。
2. 鼠标点击h2，判断是否被点击过：
					1) 未被点击过，展开li列表，同时隐藏其他被点击过得li列表，清空所有li选中状态
					2) 被点击过，展开的li列表隐藏，清空所有li选中状态。
3. 鼠标点击h2下的任意li元素，判断是否被点击过：
					1) 未被点击过，li背景改为选中状态，同时取消其他选中的li
					2) 被点击过，取消li被选中的状态。
-->
</head>
<body>
	<ul class="wrap">
		<li class="list">
			<h2>特别关心</h2>
			<ul>
				<li>张三</li>
				<li>李四</li>
				<li>王五</li>
				<li>赵六</li>
			</ul>
		</li>
		<li class="list">
			<h2>常用群聊</h2>
			<ul>
				<li>张三</li>
				<li>李四</li>
				<li>王五</li>
				<li>赵六</li>
			</ul>
		</li>
		<li class="list">
			<h2>我的好友</h2>
			<ul>
				<li>张三</li>
				<li>李四</li>
				<li>王五</li>
				<li>赵六</li>
			</ul>
		</li>
		<li class="list">
			<h2>黑名单</h2>
			<ul>
				<li>张三</li>
				<li>李四</li>
				<li>王五</li>
				<li>赵六</li>
			</ul>
		</li>
	</ul>
</body>
</html>
