
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style type="text/css">
	td{
		text-align: center;
	}
</style>
</head>
<body>
<table id="tab" width="300" align="center" border="1">
	<thead>
		<th>商品</th>
		<th>价格</th>
		<th>操作</th>
	</thead>
	<tbody>
		<tr>
			<td>苹果</td>
			<td>3700</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>锤子</td>
			<td>2499</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>小米</td>
			<td>3299</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>坚果</td>
			<td>799</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>桔子</td>
			<td>1799</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>梨子</td>
			<td>1199</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
	</tbody>
	<tfoot>
		<td>价格排序</td>
		<td><input type="button" value="从高到低"></td>
		<td><input type="button" value="从低到高"></td>
	</tfoot>
</table>	
<script>
var oTab = document.getElementById('tab');
var rows = Array.from(oTab.tBodies[0].rows);
//var rows = oTab.getElementsByTagName('tbody')[0].getElementsByTagName('td');
var aFootBtns = Array.from(oTab.tFoot.getElementsByTagName('input'));
console.log(JSON.stringify(aFootBtns));
//排序方法
aFootBtns[0].onclick = function () {
	rows.sort(function(a,b){
		return parseFloat(b.cells[1].innerHTML) - parseFloat(a.cells[1].innerHTML);
	});
	
	for ( var i=0; i<rows.length; i++ ) {
		oTab.tBodies[0].appendChild(rows[i]);
	}
}
aFootBtns[1].onclick = function () {
	rows.sort(function(a,b){
		return parseFloat(a.cells[1].innerHTML) - parseFloat(b.cells[1].innerHTML);
	});
	oTab.tBodies[0].innerHTML = '';
	for ( var i=0; i<rows.length; i++ ) {
		oTab.tBodies[0].appendChild(rows[i]);
	}
	/*rows.forEach(function(item,i,arr){
		rows.forEach(function(item,i,arr){
			if ( arr[i+1] ) {
				if ( parseFloat(arr[i].cells[1].innerHTML) > parseFloat(arr[i+1].cells[1].innerHTML) ) {
					console.log( arr[i],arr[i+1]);
					oTab.tBodies[0].insertBefore(arr[i+1],arr[i]);
				}
			}
		});
	});*/
}
//点击上移、下移
rows.forEach(function(item){
	var aBtns = item.getElementsByTagName('input');
	for ( var i=0; i<aBtns.length; i++ ) {
		if ( aBtns[i].value == '上移' ) {
			aBtns[i].onclick = function () {
				if ( item.previousElementSibling ) {
					oTab.tBodies[0].insertBefore(item,item.previousElementSibling);
				} else {
					oTab.tBodies[0].appendChild(item);
				}
			}
		} else if ( aBtns[i].value == '下移' ) {
			aBtns[i].onclick = function (){
				if (item.nextElementSibling) {
					oTab.tBodies[0].insertBefore(item.nextElementSibling,item);
				} else {
					oTab.tBodies[0].insertBefore(item,oTab.tBodies[0].firstElementChild);
				}
			}
		}
	}
});
</script>
</body>
</html>