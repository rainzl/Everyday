<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
body {
	background-color: #ccc;
}
#wrap {
	margin: 50px auto;
	padding: 0;
	list-style: none;
	position: relative;
	height: 500px;
	width: 800px;
	border: 1px solid #00BFFF;
	background-color: #fff;
}
#wrap li {
	position: absolute;
	top: 0;
	border: 1px solid #fff;
	background-color: #00BFFF;
}
</style>
<script type="text/javascript" src="../JS7/JS/publicMain.js" ></script>
<script>
window.onload = function () {
	var oWrap = getEle('#wrap');
	var wrapWid = css(oWrap,'width');
	var n = 12;
	var liWid = wrapWid/n;
	var wrapHei = css(oWrap,'height') - liWid;
	var arrLi = [];
	
	for ( var i=0; i<n; i++ ) {
		arrLi.push('<li style="width:'+liWid+'px;height:'+liWid+'px;left:'+(i*liWid)+'px;"></li>');
	}
	oWrap.innerHTML = arrLi.join('');
	var aLis = Array.from(oWrap.getElementsByTagName('li'));
	var onOff = true;
	var timer = 0;
	
	aLis.forEach(function(item,i,arr){
		item.onclick = function () {
			if (timer != 0) {
				return;
			}
			var prev = this.previousElementSibling;
			var next = this.nextElementSibling;
			if (onOff) {
				
				mTween(this,{'top':wrapHei},800,'linear');
				
				timer = setInterval(function(){
					if (prev || next) {
						if ( prev ) {
							mTween(prev,{'top':wrapHei},800,'linear');
							prev = prev.previousElementSibling;
						}
						if (next) {
							mTween(next,{'top':wrapHei},800,'linear');
							next = next.nextElementSibling;
						}
					} else {
						clearInterval(timer);
						timer = 0;
					}
				},100);
			} else {
				mTween(this,{'top':0},800,'linear');
				
				timer = setInterval(function(){
					if (prev || next) {
						if ( prev ) {
							mTween(prev,{'top':0},800,'linear');
							prev = prev.previousElementSibling;
						}
						if (next) {
							mTween(next,{'top':0},800,'linear');
							next = next.nextElementSibling;
						}
					} else {
						clearInterval(timer);
						timer = 0;
					}
				},100);
			}
			onOff = !onOff;
		}
	});
	
	/*function movePrev(obj){
		
		if (prev) {
			
		}
		
	}*/
}
</script>
</head>
<body>
	<ul id="wrap">
	</ul>
</body>
</html>
