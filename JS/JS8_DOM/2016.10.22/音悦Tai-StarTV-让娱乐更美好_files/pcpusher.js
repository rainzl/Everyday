define(["require","exports","module","store","ajax","http://qzonestyle.gtimg.cn/open/canvas/pcpush/main.js"],function(e,t,n){function a(){var e=this,t=0;Y.leftWindowArtistId&&(t=Y.leftWindowArtistId),o.ajax({type:"get",url:"http://www.yinyuetai.com/partner/get-partner-code?placeIds=left_window&artistId="+t,success:function(t){e.container=$('<div class="pc-push-container"></div>'),t.left_window?e.html=t.left_window.replace("[timestamp]",(new Date).getTime()):e.html='<div class="pc-push-baby pc-push-baby-handclap" id="pc_push_baby"></div><a href="javascript:void(0);" class="pc-push-icons pc-push-closer"></a><div class="pc-push-icons pc-push-info"></div><div class="pc-push-icons pc-push-function"><div class="pc-push-function-inner" id="pc_push_function"></div></div>',e.container=$('<div class="pc-push-container"></div>'),e.bottomDistance=200,e.classNames={pleased:"pc-push-baby pc-push-baby-pleased",handclap:"pc-push-baby pc-push-baby-handclap"},e.init()}})}var r=(window.navigator.userAgent||"").toLowerCase(),i=r.indexOf("msie 6")!==-1,s=e("store"),o=e("ajax");e("http://qzonestyle.gtimg.cn/open/canvas/pcpush/main.js"),window.PCPUSH=window.PCPUSH||[];var u=$(document.body);a.prototype={constructor:a,_getRandomStyle:function(){var e=["handclap","pleased"];return e[Math.round(Math.random())]},_initEvent:function(){var e=this,t=this.container.find("a.pc-push-closer");t.on("click",function(){e.close(),s.set("pcpusher_close",1)})},_initPosition:function(){var e=this,t=e.container.innerHeight(),n=200;if(i)$("<style type='text/css'> * html { background:url(null) no-repeat fixed; } </style>").appendTo("head"),$(window).on("scroll.pcpush",function(){e.container.css("top",$(this).scrollTop()+(document.documentElement.clientHeight-t-e.bottomDistance)+"px")});else{var r=document.documentElement.clientHeight-t-e.bottomDistance;$(window).on("resize.pcpush",function(){r=document.documentElement.clientHeight-t-e.bottomDistance,r>n?e.container.css("top","auto"):e.container.css("top",n+"px")}),e.container.css("top",r>n?"auto":n+"px")}},_initStyle:function(){this.currentStyle=this._getRandomStyle(),$("#pc_push_baby").attr("class",this.classNames[this.currentStyle])},init:function(){this.container.html(this.html),u.append(this.container),this._initStyle(),this._initPosition(),this._initEvent(),PCPUSH.push(["pc_push_function","1101071937",this.currentStyle,{}])},close:function(){this.container.remove(),$(window).off(".pcpush")}};if(Y.siteName&&Y.siteName=="www"||document.documentElement.clientWidth<=1355||"https:"==document.location.protocol||s.get("pcpusher_close")==1||Y.notRequirePcpusher)return;new a});