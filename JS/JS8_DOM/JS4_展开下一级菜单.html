<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
h1{
	margin: 0;
}
ul {
	margin: 0;
	padding: 0;
	list-style: none;
}
#list li {
	padding-left: 20px;
}
#list h1 {
	font: 16px/30px "宋体";
}
#list li span {
	padding: 0 10px;
	font: bold 16px/30px "微软雅黑";
}
#list .hid {
	display: none;
}
#list .show {
	display: block;
}
</style>
</head>
<body>
	<ul id="list">
		<li>
			<h1><span>+</span>一级菜单</h1>
			<ul class="hid">
				<li>
					<h1><span>+</span>二级菜单</h1>
					<ul class="hid">
						<li><h1>三级菜单</h1></li>
						<li><h1>三级菜单</h1></li>
					</ul>
				</li>
				<li><h1>二级菜单</h1></li>
				<li><h1>二级菜单</h1></li>
			</ul>
		</li>
		<li>
			<h1><span>+</span>一级菜单</h1>
			<ul class="hid">
				<li>
					<h1><span>+</span>二级菜单</h1>
					<ul class="hid">
						<li><h1>三级菜单</h1></li>
						<li><h1>三级菜单</h1></li>
					</ul>
				</li>
				<li><h1>二级菜单</h1></li>
				<li><h1>二级菜单</h1></li>
			</ul>
		</li>
		<li>
			<h1><span>+</span>一级菜单</h1>
			<ul class="hid">
				<li>
					<h1><span>+</span>二级菜单</h1>
					<ul class="hid">
						<li><h1>三级菜单</h1></li>
						<li><h1>三级菜单</h1></li>
					</ul>
				</li>
				<li><h1>二级菜单</h1></li>
				<li><h1>二级菜单</h1></li>
			</ul>
		</li>
		<li>
			<h1><span>+</span>一级菜单</h1>
			<ul class="hid">
				<li>
					<h1><span>+</span>二级菜单</h1>
					<ul class="hid">
						<li><h1>三级菜单</h1></li>
						<li><h1>三级菜单</h1></li>
					</ul>
				</li>
				<li><h1>二级菜单</h1></li>
				<li><h1>二级菜单</h1></li>
			</ul>
		</li>
	</ul>
<script>
var oList = Array.from(document.querySelectorAll('#list li'));
oList.forEach(function(item,i,arr){
	manuShow(item,arr);
});
function manuShow(obj,arr) {
	var oH2 = obj.getElementsByTagName('h1')[0];
	var oSpan = oH2.getElementsByTagName('span')[0];
	var oUl = obj.getElementsByTagName('ul')[0];
	if ( oUl ) {
		oH2.onclick = function () {
			if ( oUl.className == 'show' ) {
				oUl.className = 'hid';
				oSpan.innerHTML = '+';
				var oList = Array.from(oUl.querySelectorAll('li'));
				oList.forEach(function(item,i,arr){
					manuShow(item,arr);
				})
			} else {
				arr.forEach(function(item){
					close(item);
				});
				oUl.className = 'show';
				oSpan.innerHTML = '-';
				var oList = Array.from(oUl.querySelectorAll('li'));
				oList.forEach(function(item,i,arr){
					manuShow(item,arr);
				})
			}
			
		}
	}
}
//全部关闭
function close(obj) {
	var oH2 = obj.getElementsByTagName('h1')[0];
	var oSpan = oH2.getElementsByTagName('span')[0];
	var oUl = obj.getElementsByTagName('ul')[0];
	
	if ( oUl ) {
		var aLis = Array.from(oUl.children);
		oUl.className = 'hid';
		oSpan.innerHTML = '+';
		aLis.forEach(function(item,i){
			close(item);
		});
	}
}
</script>
</body>
</html>
