<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
ul{
	margin: 0;
	padding: 0;
	list-style: none;
}
a {
	text-decoration: none;
}
.tBody {
	position: relative;
	margin: 100px auto;
	width: 800px;
	height: 60px;
	border: 1px solid #D9E3CA;
	background-color: #483D8B;
	border-radius: 30px;
	font: 20px/36px "宋体";
	text-align: center;
}
#nav {
	position: absolute;
	top: 0;
	left: 0;
	padding: 10px 30px;
}
#nav li {
	float: left;
	padding: 2px 10px;
	width: 100px;
	border-left: 1px solid #D9E3CA;
}
#nav li:nth-of-type(1) {
	border: none;
}
#nav a {
	float: left;
	width: 100%;
	background-color: slateblue;
	border-radius: 15px;
	color: #fff;
}
#nav .active {
	background-color: darkblue;
}
.more {
	position: absolute;
	right: 20px;
	top: 10px;
	color: #fff;
}
#aside {
	position: absolute;
	top: 66px;
	left: 0;
	width: 800px;
	height: 36px;
}
#aside li {
	display: none;
	position: absolute;
	top: 0;
	padding: 3px 5px;
	background-color: #B0E0E6;
	border-radius: 18px;
}
#aside span {
	position: absolute;
	top: -10px;
	left: 50%;
	width: 0;
	height: 0;
	border: 5px solid;
	border-color: transparent transparent #B0E0E6;
}
#aside a {
	float: left;
	width: 120px;
	height: 30px;
	border-radius: 15px;
}
#aside .active {
	background-color: #20B2AA;
}
</style>
<script type="text/javascript" src="../publicJS/Js1_publicMove.js" ></script>
<script>
var navArr = [
	['首页',['首页一','首页二']],
	['关于我们',['关于我们一','关于我们二','关于我们三']],
	['作品',['作品一','作品二']],
	['博客',['博客一','博客二']]
];
	window.onload = function () {
		var oWrap = getId('wrap');
		var oNav = getId('nav');
		var oAside = getId('aside');
		var navWid = 120;//一个主导航的宽度
		var sideWid = 120;//一个副导航的单个宽度
		/*------生成页面导航-------*/
		var str = '';
		for ( var i=0; i<navArr.length; i++ ) {
			str += '<li><a href="javascript:;">' + navArr[i][0] + '</a></li>';
		}
		oNav.innerHTML = str;
		str = '';
		for ( var i=0; i<navArr.length; i++ ) {
			var asideWid = 0;//每个副导航的总宽度
			asideWid = navArr[i][1].length*sideWid;
			str += '<li style="left:' + (i*navWid - ((asideWid-navWid)/2) + 30) + 'px"><span></span>';
			for ( var j=0; j<navArr[i][1].length; j++ ) {
				str += '<a href="javascript:;">'+navArr[i][1][j]+'</a>';
			}
			str += '</li>';
		}
		oAside.innerHTML = str;
		
		/*-----页面函数执行，获取每个需要执行函数的元素------*/
		var aNavAs = getTag(oNav,'a');//获取主导航中的每个元素
		var aAsideLis = getTag(oAside,'li');//主导航对应的每个副导航列表
		var num = 0;//这个变量控制当前执行是第几个元素
		var timer = 0;
		for (var i=0,len=aNavAs.length; i<len; i++) {
			aNavAs[i].index = i;
			aAsideLis[i].index = i;
			(function(n){
				var aAsideAs = getTag(aAsideLis[n],'a');
				for ( var i=0; i<aAsideAs.length; i++ ) {
					aAsideAs[i].onmouseover = function () {
						this.className = 'active';
					}
					aAsideAs[i].onmouseout = function () {
						this.className = '';
					}
				}
			})(i)
			aAsideLis[i].onmouseover = aNavAs[i].onmouseover = function () {
				for ( var i=0; i<len; i++ ) {
					aAsideLis[i].style.display = '';
					aNavAs[i].className = '';
				}
				clearTimeout(timer);
				num =this.index;
				aNavAs[num].className = 'active';
				aAsideLis[num].style.display = 'block';
			}
			aAsideLis[i].onmouseout = aNavAs[i].onmouseout = function () {
				num =this.index;
				timer = setTimeout(
					function () {
						aAsideLis[num].style.display = '';
						aNavAs[num].className = '';
					},400
				);
			}
			
		}
		
	}
</script>
</head>
<body>
	<section class="tBody" id="wrap">
		<ul id="nav">
			<!--<li><a href="javascript:;">首页</a></li>
			<li><a href="javascript:;">关于我们</a></li>
			<li><a href="javascript:;">作品</a></li>
			<li><a href="javascript:;">博客</a></li>-->
		</ul>
		<a class="more" href="javascript:;">更多>></a>
		<ul id="aside">
			<!--<li>
				<span></span>
				<a href="javascript:;">首页一</a>
				<a href="javascript:;">首页二</a>
			</li>
			<li>
				<span></span>
				<a href="javascript:;">关于我们一</a>
				<a href="javascript:;">关于我们二</a>
			</li>
			<li>
				<span></span>
				<a href="javascript:;">作品一</a>
				<a href="javascript:;">作品二</a>
			</li>
			<li>
				<span></span>
				<a href="javascript:;">博客一</a>
				<a href="javascript:;">博客二</a>
			</li>-->
		</ul>
	</section>
</body>
</html>
