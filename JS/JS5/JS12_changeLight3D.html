<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style id="css">
@keyframes round {
	10%{
		transform: translateZ(250px);
	}
	100%{
		transform: translateZ(0);
	}
}
ul {
	margin: 0;
	padding: 0;
	list-style: none;
}
#wrap {
	position: relative;
	margin: 30px auto;
	width: 800px;
	height: 360px;
	
}
#imgList {
	position: absolute;
	top: 0;
	left: 0;
	width: 800px;
	height: 360px;
	perspective: 2000px;
}
#imgList div {
	position: absolute;
	top: 0;
	width: 20px;
	height: 100%;
	transform-origin: center center -180px;
	transform-style: preserve-3d;
}
#imgList div span {
	backface-visibility: hidden;
	transform-origin: center center -180px;
}
#imgList span {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}
#footer {
	position: absolute;
	bottom: -50px;
	left: 0;
	width: 100%;
	text-align: center;
}
#footer input {
	margin: 0 20px;
}
</style>
<script>
	window.onload = function () {
		arrImg = ['url(img12/1.jpg) no-repeat',
		'url(img12/2.jpg) no-repeat',
		'url(img12/3.jpg) no-repeat',
		'url(img12/4.jpg) no-repeat']
		
		var aImgList = document.getElementById('imgList');
        imgWidth = parseFloat(getStyle(aImgList, 'width'));
		
		var str = '';
		var left = 0;
		for (var i=0; i<imgWidth/20; i++ ) {
			left = i*20;
			str += '<div style="left:'+left+'px;">';
			for (var j=0; j<arrImg.length; j++ ) {
				str += '<span style="background: '+ arrImg[j] +' '+ (-left) +'px 0; transform: rotateX('+ j*90 +'deg)"></span>'
			}
			str += '</div>';
		}
		aImgList.innerHTML = str;
		//获取每个div，同时给按钮添加点击事件
		var aDiv = aImgList.getElementsByTagName('div');
		var aBtn = document.querySelectorAll('#footer ')
		var n = 0;
		
		aBtn[0].onclick = function () {
			n++;
			n %= 4;
			for ( var i=0; i<aDiv.length; i++ ) {
				//aDiv[i].style.transform = 'rotateX('+ n*90 +'deg)';
				//aDiv[i].style.transition = '.5s '+ (i*.05) +'s';
				aDiv[i].cssText += 'transform: rotateX('+ n*90 +'deg); transition:.5s '+ (i*.05) +'s';
			}
		}
		
		function getStyle(obj,attr) {
			return obj.currentStyle? obj.currentStyle[attr]:getComputedStyle(obj)[attr]; 
		}
	}
</script>
</head>
<body>
	<section id="wrap">
		<div id="imgList"></div>
		<footer id="footer">
			<input type="button" value="上一张" />
			<input type="button" value="下一张" />
		</footer>
	</section>
</body>
</html>
