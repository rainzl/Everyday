<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
<style>
ul {
	margin: 0;
	padding: 0;
	list-style: none;
}
#wrap {
	position: relative;
	margin: 30px auto;
	width: 800px;
	height: 400px;
	border: 5px solid #8C8494;
}
#aside {
	position: absolute;
	top: 0;
	left: 0;
	width: 100px;
	height: 100%;
}
#aside span {
	display: block;
	width: 98px;
	height: 98px;
	line-height: 98px;
	text-align: center;
	border: 1px solid #fff;
	background-color: #000;
	color: #fff;
}
#aside .active {
	background-color: red;
}
.box {
	position: absolute;
	top: 0;
	left: 100px;
	width: 700px;
	height: 400px;
	overflow: hidden;
}
#content {
	position: absolute;
	top: 0;
	left: 0;
	width: 700px;
	height: 400px;
	transition: 1s;
}
#content li {
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
}
.img {
	position: absolute;
	top: 0;
	left: 0;
	transition: 1s;
}
.img img {
	position: absolute;
	top: 0;
	left: 0;
	width: 700px;
	height: 400px;
	transition: 1s;
}
.footer {
	position: absolute;
	bottom: 0;
	left: 0;
	height: 30px;
	width: 100%;
	text-align: center;
	font: bold 16px/30px "宋体";
	color: #fff;
}
.footer span {
	float: left;
	box-sizing: border-box;
	width: 48%;
	height: 30px;
	border-right:1px solid #8C8494;
	background-color: rgba(255,0,0,.4);
}
.footer .active {
	background-color: rgba(255,0,0,.8);
}
</style>
<script>
var arr = [
		[
			'暖色调',
			['img10/img1.gif','img10/img2.gif','img10/img3.gif','img10/img4.gif'],
			['暖色调素材一','暖色调素材二','暖色调素材三','暖色调素材四']
		],
		[
			'金色夕阳',
			['img10/img5.gif','img10/img6.gif'],
			['金色夕阳素材一','金色夕阳素材二']
		],
		[
			'灰色格调',
			['img10/img7.gif','img10/img8.gif','img10/img1.gif'],
			['灰色格调素材一','灰色格调素材二','灰色格调素材三']
		],
		[
			'body',
			['img10/img9.gif','img10/img10.gif','img10/img11.gif','img10/img12.gif'],
			['body素材一','body素材二','body素材三','body素材四']
		]
	];
	function getStyle(obj,attr) {
		return obj.currentStyle? obj.currentStyle[attr]: getComputedStyle(obj)[attr];
	}
	window.onload = function () {
		
		var oWrap = document.getElementById('wrap');
		var wid = 700;
		var hei = parseInt(getStyle(oWrap,'height'));
		
		/*----------------页面内容加载开始---------------*/
		var asideStr = '';
		//生成左侧分类导航
		asideStr += '<aside id="aside">';
		for ( i=0; i<arr.length; i++ ) {
			if ( i == 0 ) {
				asideStr += '<span class="active"> ' + arr[i][0] + ' </span>';
			} else {
				asideStr += '<span>' + arr[i][0] + ' </span>';
			}
		}
		asideStr += '</aside>';
		//生成图片列表
		asideStr += '<div class="box"><ul style="width:'+ (arr.length * wid) +'px" id="content">';
		for ( i=0; i<arr.length; i++ ) {
			//左右移动
			asideStr += '<li style="left: '+ (i*wid) +'px">';	
			//生成每组图片
			asideStr += '<div style="height: '+ (hei*arr[i][1].length) +' px" class="img">';
			for ( j=0; j<arr[i][1].length; j++ ) {
				//上下移动
				asideStr += '<img style="top: '+ (j*hei) +'px" src="'+ arr[i][1][j] +'">';
			}
			asideStr += '</div>';
			
			//生成每组图片的底部标题
			asideStr += '<footer class="footer">';
			for ( j=0; j<arr[i][2].length; j++ ) {
				if ( j == 0 ) {
					asideStr += '<span class="active" style="width:'+ (wid/arr[i][2].length) +'px">'+ arr[i][2][j] +'</span>'
				} else {
					asideStr += '<span style="width:'+ (wid/arr[i][2].length) +'px">'+ arr[i][2][j] +'</span>'
				}
			}
			asideStr += '</footer>';
			asideStr +=	'</li>';
		}
		asideStr += '</ul></div>'
		oWrap.innerHTML = asideStr;
		/*----------------页面内容加载完成---------------*/
		
		//获取导航的每个选项
		var aAsideList = document.querySelectorAll('#aside span');
		//获取每个图片组：包含图片和底部标题
		var aCont = document.querySelector('#content');
		var aContLi = document.querySelectorAll('#content li');
		var timer = 0;
		var timer2 = 0;
		var n = 0;
		var n2 = 0;
		//图片组切换定时器
		timer = setInterval(
			function () {
				aAsideList[n].className = '';
				n++;
				n %= aAsideList.length;
 				aAsideList[n].className = 'active';
 				aCont.style.left = -n*wid + 'px';
			},10000
		);
		//给每个导航加点击事件：图片组左右移动，导航样式改变
		fnMain(aAsideList,aCont,'left',wid);
		//循环点击每个导航，切换图片组
		for ( var i=0; i<aAsideList.length; i++ ) {
			//分别获取当前图片组下的图片元素和底部标题元素
			var aContImg = aContLi[i].querySelector('.img');
			var aFootSpan = aContLi[i].getElementsByTagName('span');
			//循环点击每个标题，图片上下移动
			timer2 = setInterval(
				function(){
					n2++;
					
				},100
			);
			fnMain(aFootSpan,aContImg,'top',hei);
		}
		function some() {
			
			n2 %= aFootSpan.length;
			for (i=0;i<aFootSpan.length;i++) {
				if ( i == n2 ) {
					aFootSpan[i].className = 'active';
					aContImg.style.top = -n*hei + 'px';
				} else {
					aFootSpan[n2].className = '';
				}
			}
			
			
		}
		// 图片以及图片组切换函数
		function fnMain(obj,obj2,attr,num) {
			for (var i=0; i<obj.length; i++ ) {
				obj[i].onclick = function () {
					for ( var i=0; i<obj.length; i++ ) {
						if ( obj[i] == this ) {
							obj[i].className = 'active';
							obj2.style[attr] = -i*num + 'px';
						} else {
							obj[i].className = '';
						}
					}
				}
			}
		}
	}
</script>
</head>
<body>
	<section id="wrap"></section>
</body>
</html>
